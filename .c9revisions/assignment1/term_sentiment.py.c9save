{"ts":1373395622853,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"import sys\nimport json\nimport re\n\ndef convert_to_dict(sent_file):    \n    map = {}\n    lines = sent_file.readlines()\n    for line in lines:\n        string_array = line.rstrip().split('\\t')\n        map[string_array[0]] = string_array[1] \n        \n    return map\n\ndef calculate_tweet_sent(sent_dict,tweet_file):\n    sent_word = {}\n    lines = tweet_file.readlines()\n    for line in lines:        \n        tweet = json.loads(line)                        \n        if \"text\" in tweet:   \n            sent_sum = 0\n            words = tweet[\"text\"].split()            \n            for word in words:  \n                utf_word = re.sub(r\"[^A-Za-z@']\",'',word.encode('utf-8','ignore'))                \n                if utf_word in sent_dict: \n                    sent_sum += int(sent_dict[utf_word])                           \n            for word in words:                \n                utf_word = re.sub(r\"[^A-Za-z@']\",'',word.encode('utf-8','ignore'))                \n                if utf_word in sent_word: \n                    sent_word[utf_word] += sent_sum\n                else: \n                    if utf_word != '':\n                        sent_word[utf_word] = sent_sum\n                \n    return sent_word\n    \ndef print_sent_word(sent_word):\n    for key in sent_word:\n        print key + ' ' + str(sent_word[key])\n    \n    \ndef main():\n    sent_file = open(sys.argv[1])\n    tweet_file = open(sys.argv[2])\n    sent_dict = convert_to_dict(sent_file)\n    sent_word = calculate_tweet_sent(sent_dict,tweet_file)\n    print_sent_word(sent_word)\n\n\nif __name__ == '__main__':\n    main()\n"]],"start1":0,"start2":0,"length1":0,"length2":1590}]],"length":1590}
